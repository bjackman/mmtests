diff --git a/psearchy/mkdb/mkprimes b/psearchy/mkdb/mkprimes
index ae0372e..e350cfd 100755
--- a/psearchy/mkdb/mkprimes
+++ b/psearchy/mkdb/mkprimes
@@ -1,4 +1,4 @@
-#!/usr/bin/python
+#!/usr/bin/python3
 
 import sys, time
 
@@ -9,16 +9,16 @@ def sieve(n):
     sieve[0] = False
     sieve[1] = False
 
-    for i in xrange(2, nroot+1):
+    for i in range(2, nroot+1):
         if sieve[i]:
             m = n/i - i
-            sieve[i*i: n+1:i] = [False] * (m+1)
+            sieve[i*i: n+1:i] = [False] * (int(m+1))
 
-    return [i for i in xrange(n+1) if sieve[i]]
+    return [i for i in range(n+1) if sieve[i]]
 
 primes = sieve(2**24)
-print "// Generated by %s on %s" % (sys.argv[0], time.asctime())
-print "int nprimes = %r;" % len(primes)
-print "int primes[] = {"
-print str(primes)[1:-1]
-print "};"
+print("// Generated by %s on %s" % (sys.argv[0], time.asctime()))
+print("int nprimes = %r;" % len(primes))
+print("int primes[] = {")
+print(str(primes)[1:-1])
+print("};")
